life[hiv[[2]] %in% common,]
ob[ob[[2]] %in% common,]
pre[pre[[2]] %in% common,]
pri[pri[[2]] %in% common,]
sani[sani[[2]] %in% common,]
sec[sec[[2]] %in% common,]
smo[smo[[2]] %in% common,]
ter[ter[[2]] %in% common,]
x.9 <- al[al[[2]] %in% common, 2]
x.10 <- co2[co2[[2]] %in% common, 2]
x.1 <- gdp[gdp[[2]] %in% common, ]
x.11 <- hiv[hiv[[2]] %in% common, 2]
y <- life[hiv[[2]] %in% common, 2]
x.8 <- ob[ob[[2]] %in% common, 2]
x.3 <- pre[pre[[2]] %in% common, 2]
x.4 <- pri[pri[[2]] %in% common, 2]
x.2 <- sani[sani[[2]] %in% common, 2]
x.5 <- sec[sec[[2]] %in% common, 2]
x.7 <- smo[smo[[2]] %in% common, 2]
x.6 <- ter[ter[[2]] %in% common, 2]
x.9 <- al[al[[2]] %in% common, 3]
x.10 <- co2[co2[[2]] %in% common, 3]
x.1 <- gdp[gdp[[2]] %in% common, 3]
x.11 <- hiv[hiv[[2]] %in% common, 3]
y <- life[hiv[[2]] %in% common, ]
x.8 <- ob[ob[[2]] %in% common, 3]
x.3 <- pre[pre[[2]] %in% common, 3]
x.4 <- pri[pri[[2]] %in% common, 3]
x.2 <- sani[sani[[2]] %in% common, 3]
x.5 <- sec[sec[[2]] %in% common, 3]
x.7 <- smo[smo[[2]] %in% common, c(3, 4)]
x.6 <- ter[ter[[2]] %in% common, 3]
df <- cbind(y, x.1, x.2, x.3, x.4, x.5, x.6, x.7, x.8, x.9, x.10, x.1)
df <- cbind(y, x.1, x.2, x.3, x.4, x.5, x.6, x.7, x.8, x.9, x.10, x.11)
View(y)
y <- life[life[[2]] %in% common, ]
df <- cbind(y, x.1, x.2, x.3, x.4, x.5, x.6, x.7, x.8, x.9, x.10, x.11)
View(df)
df <- cbind(y, gdp = x.1, sani = x.2, pre = x.3, pri = x.4, sec = x.5,
ter = x.6, smo = x.7, ob = x.8, al = x.9, co2 = x.10, hiv = x.11)
View(df)
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
write.csv(df, "Sleeping princess in penguin room.csv")
lm(df)
rm(list=ls())
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
df <- read.csv("Sleeping princess in penguin room.csv")
View(df)
View(df)
setwd("c:/Users/정은/Desktop/new_bigdata_set/final data revised")
co2 <- read.csv("co2.rv.csv")
gdp <- read.csv("gdp.rv.csv")
hiv <- read.csv("hiv.rv.csv")
life <- read.csv("life.rv.csv")
ob <- read.csv("ob.rv.csv")
pre <- read.csv("pre.rv.csv")
pri <- read.csv("pri.rv.csv")
sani <- read.csv("sani.rv.csv")
sec <- read.csv("sec.rv.csv")
smo <- read.csv("smo.rv.csv")
ter <- read.csv("ter.rv.csv")
al <- read.csv("al.rv.csv")
co2 <- co2[order(co2$Country.Code),]
gdp <- gdp[order(gdp$Country.Code),]
hiv <- hiv[order(hiv$Country.Code),]
life <- life[order(life$Country.Code),]
ob <- ob[order(ob$Country.Code),]
pre <- pre[order(pre$Country.Code),]
pri <- pri[order(pri$Country.Code),]
sani <- sani[order(sani$Country.Code),]
sec <- sec[order(sec$Country.Code),]
smo <- smo[order(smo$Country.Code),]
ter <- ter[order(ter$Country.Code),]
al <- al[order(al$Country.Code),]
common <- intersect(as.character(co2[[2]]), as.character(gdp[[2]]))
common <- intersect(common, as.character(life[[2]]))
common <- intersect(common, as.character(ob[[2]]))
common <- intersect(common, as.character(pre[[2]]))
common <- intersect(common, as.character(pri[[2]]))
common <- intersect(common, as.character(sec[[2]]))
common <- intersect(common, as.character(sani[[2]]))
common <- intersect(common, as.character(smo[[2]]))
common <- intersect(common, as.character(ter[[2]]))
common <- intersect(common, as.character(al[[2]]))
View(smo)
View(df)
rm(list=ls())
df <- read.csv("Sleeping princess in penguin room.csv")
y <- df[[3]]
write.csv(df, "Sleeping princess in penguin room.csv", row.names = F)
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
df <- read.csv("Sleeping princess in penguin room.csv")
y <- df[[3]]
gdp <- df[[4]]; sani <- sani[[5]]; pre <- pre[[6]]; pri <- pri[[7]]
sec <- sec[[8]]; ter <- ter[[9]]; smo <- smo[[11]]; ob <- ob[[12]]
al <- al[[13]]; co2 <- co2[[14]]; hiv <- hiv[[15]]
y <- df[[3]]
gdp <- df[[4]]; sani <- df[[5]]; pre <- df[[6]]; pri <- df[[7]]
sec <- df[[8]]; ter <- df[[9]]; smo <- df[[11]]; ob <- df[[12]]
al <- df[[13]]; co2 <- df[[14]]; hiv <- df[[15]]
lm(y~gdp+sani+pre+pri+sec+ter+smo+ob+al+co2+hiv)
reg <- lm(y~gdp+sani+pre+pri+sec+ter+smo+ob+al+co2+hiv)
plot(residuals)
plot(reg$residuals)
plot(reg$residuals); abline(h=0, lty="dotted")
plot(reg$residuals, main = "residual plot", ylab = residuals); abline(h=0, lty="dotted")
plot(reg$residuals, main = "residual plot", ylab = "residuals"); abline(h=0, lty="dotted")
plot(reg$fitted.values, reg$residuals)
abline(h = 0, lty = "dotted")
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, row.names(reg$fitted.values))
row.names(reg$fitted.values)
reg$fitted.values
names(reg$fitted.values)
text(reg$fitted.values, reg$residuals, names(reg$fitted.values))
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
plot(reg$residuals, type = "n", main = "residual plot", ylab = "residuals"); abline(h=0, lty="dotted")
text(reg$residuals, names(reg$residuals), cex = 0.7)
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
plot(reg$residuals, type = "n", main = "residual plot", ylab = "residuals"); abline(h=0, lty="dotted")
text(reg$residuals, names(reg$residuals), cex = 0.7)
rm(list=ls())
y <- c(-0.193,  0.053,  0.537,  0.130,  1.004,
-0.592, -0.392,  0.800, -0.375, -0.627,
0.615,  0.282,  0.911, -0.267, -1.104,
-0.211,  0.574,  0.841,  0.193, -0.421,
-0.514, 10.139, -0.686, -0.157, -0.756,
11.241, -0.125,  0.228, -0.175, -0.679,
-0.327, -0.301,  1.024, 0.004, -0.142,
0.679,  0.470, -0.431,  0.980,  0.236)
x1 <- c(4.103,  5.185,  1.588, -1.130, -0.080,
0.132,  0.708, -0.240,  1.984, -0.139,
0.418,  0.982, -0.393, -1.040,  1.782,
-2.311,  0.879,  0.036,  1.013,  0.432,
2.091, -1.200,  1.590,  1.955,  0.005,
-2.452,  0.477, -0.597,  0.792,  0.290,
0.739,  0.319,  1.076, -0.284, -0.777,
-0.596, -1.726, -0.903, -0.559, -0.247)
x2 <- c(4.616,  3.041,  -0.842,  1.904,  0.622,
1.991, -0.305,  -0.091, -0.184, -1.199,
-0.838, 2.066,  -0.562,  1.276, -1.048,
-1.966, -0.323,  0.936,  1.139,  1.672,
-1.788,  2.031, -0.703,  0.158,  0.506,
-0.820, -1.999, -0.479,  0.084, -0.895,
-0.921,  0.330, -0.142,  0.435, -0.054,
-0.907,  1.304,  0.772,  1.053, -1.410)
n <- 40
p <- 2
obj <- lm(y ~ x1 + x2)
r <- obj$residuals
mse <- t(r) %*% r / (n - 3)
e <- r/c(sqrt(mse))
temp <- (n - p - 2)/ (n - p - 1 - r^2)
t <- r * sqrt(abs(temp)) * sign(temp)
X <- cbind(rep(1,length(x1)), x1, x2)
library(lmtest)
X <- cbind(rep(1,length(x1)), x1, x2)
H <- X %*% solve(t(X) %*% X) %*% t(X)
h <- diag(H)
beta <- solve(t(X) %*% X) %*% t(X) %*% y; colnames(beta) <- "beta"
cc <- solve(t(X) %*% X)
se.beta <- sqrt(diag(cc)) %*% mse
t1 <- (beta-0)/se.beta; colnames(t1) <- "t.value"
alpha <- 0.05
p.value <- 2 * (1 - pt(abs(t1), n-p-1)); colnames(p.value) <- "p.value";
cbind(round(t1, 4), round(p.value, 4))
t
out.id <- which(abs(t) > qt(1-alpha/2, n - p - 2)); out.id
y.hat <- H %*% y
rownames(y.hat) <- 1:length(y.hat)
plot(e, type = "n", xlab = "index", ylab = "residual")
text(e, rownames(y.hat), cex = 0.7)
text(out.id, e[out.id], out.id, col=2, cex = 0.7)
rownames(y.hat)[out.id]
rownames(y.hat)[out.id]
text(e, rownames(y.hat), cex = 0.7); abline(h=0, lty="dotter")
text(e, rownames(y.hat), cex = 0.7); abline(h=0, lty="dotted")
text(out.id, e[out.id], out.id, col=2, cex = 0.7)
rownames(y.hat)[out.id]
abline(h = 0, col = 2, lty = 2)
points(out.id, e[out.id], col = 4, cex = 2)
C <- ((r^2)/(p+1)) * (h/(1-h))
infl.id <- names(C)[C > 1]
plot(C, type = "n")
text(C, cex = 0.7)
abline(h = 1, col = 2, lty = 2)
points(infl.id, C[infl.id], col = 4, cex = 2.2)
DFFITS <- t * sqrt(h / (1 - h))
plot(DFFITS, ylim = c(-0.5, 3.5), type = "n")
text(abs(DFFITS), cex = 0.7)
abline(h = 2 * sqrt((p + 1)/(n - p - 1)), col = 2, lty = 2)
new.x1 <- x1[-c(22,26)] # delete 22, 26th obs from x (predictor)
new.x2 <- x2[-c(22,26)]
new.y <- y[-c(22,26)] # delete 22, 26th obs from y (response)
new.obj <- lm(new.y ~ new.x1+new.x2) # conduct regression
new.X <- X[-c(22,26),]
new.r <- new.obj$residuals
new.mse <- t(new.r) %*% new.r / (n - 3 - 2)
new.e <- new.r/c(sqrt(new.mse))
new.temp <- (n - 2 - p - 2)/ (n - 2 - p - 1 - new.r^2)
new.t <- new.r * sqrt(abs(new.temp)) * sign(new.temp)
new.H <- new.X %*% solve(t(new.X) %*% new.X) %*% t(new.X)
h <- diag(new.H)
new.beta <- solve(t(new.X) %*% new.X) %*% t(new.X) %*% new.y
colnames(new.beta) <- "new beta"
new.cc <- solve(t(new.X) %*% new.X)
new.se.beta <- sqrt(diag(new.cc)) %*% new.mse
new.t1 <- (new.beta-0)/new.se.beta; colnames(new.t1) <- " new t.value"
alpha <- 0.05
new.p.value <- 2 * (1 - pt(abs(new.t1), n-2-p-1)); colnames(new.p.value) <- "new p.value";
cbind(round(beta, 4), round(new.beta, 4),
round(t1, 4), round(p.value, 4), round(new.t1, 4), round(new.p.value, 4))
dwtest(y ~ x1+x2) # H0이 독립.
plot(y.hat, r, xlab = "predicted", ylab = "residual", type = "n", main = "residual plot")
text(y.hat, r, rownames(y.hat), cex = 0.7)
abline(h = 0, lty = "dotted", col = 2)
qqnorm(r, c(-5, 10))
abline(0, 1)
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
write.csv(df, "Sleeping princess in penguin room.csv", row.names = F)
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
df <- read.csv("Sleeping princess in penguin room.csv")
y <- df[[3]]
gdp <- df[[4]]; sani <- df[[5]]; pre <- df[[6]]; pri <- df[[7]]
sec <- df[[8]]; ter <- df[[9]]; smo <- df[[11]]; ob <- df[[12]]
al <- df[[13]]; co2 <- df[[14]]; hiv <- df[[15]]
reg <- lm(y~gdp+sani+pre+pri+sec+ter+smo+ob+al+co2+hiv)
summary(reg)
df1 <- df[,-c(1, 2)]
df1 <- df[,-c(1, 2)]
par(mfrow = c(3, 4))
for (j in c(1:12)){
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
}
life <- df[[3]]
reg <- lm(life~gdp+sani+pre+pri+sec+ter+smo+ob+al+co2+hiv)
par(mfrow = c(3, 4))
for (j in c(1:12)){
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
}
par(mfrow = c(3, 3))
for (j in c(1:7)){
plot(df2[,j], life, color=c("white","gray"), xlab=colnames(df2)[j], main=paste("x", j))
}
par(mfrow = c(3, 4))
for (j in c(1:12)){
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
}
for (j in c(2:8)){
plot(df2[,j], life, color=c("white","gray"), xlab=colnames(df2)[j], main=paste("x", j))
}
par(mfrow = c(3, 4))
for (j in c(2:13)){
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
}
df1 <- df[,-c(1, 2, 10)]
df1 <- df[,-c(1, 2, 10)]
par(mfrow = c(3, 4))
for (j in c(2:13)){
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
}
df2 <- cbind(log(gdp, 10), sani, pre, smo, al, log(co2, 2), log(hiv, 2))
colnames(df2) <- c("log.gdp", "sani", "pre", "smo", "al", "log.co2", "log.hiv")
par(mfrow = c(3, 3))
for (j in c(1:7)){
plot(df2[,j], life, color=c("white","gray"), xlab=colnames(df2)[j], main=paste("x", j))
}
par(mfrow = c(3, 4))
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, color=c("white","gray"), xlab=colnames(df1)[j], main=paste("x", j))
abline(coefficient(obj), col = "red")
}
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(coefficient(obj), col = "red")
}
par(mfrow = c(3, 4))
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(coeff(obj), col = "red")
}
par(mfrow = c(3, 4))
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
}
list.obj <- list()
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj <- obj
}
par(mfrow = c(3, 4))
list.obj <- list()
for (j in c(2:13)){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[[j-1]] <- obj
}
for (j in 2:13){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[[j-1]] <- obj
}
j <- 2L
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[[j-1]] <- obj
j <- 3L
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[[j-1]] <- obj
list.obj <- list()
for (j in 2:13){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[[j-1]] <- obj
}
list.obj <- list()
par(mfrow = c(3, 4))
list.obj <- list()
for (j in 2:13){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[j-1] <- obj
}
j <- 2L
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
list.obj[j-1] <- obj
i <- j-1
list.obj <- list()
for (j in 2:13){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
i <- j-1
list.obj[i] <- obj
}
for (j in 2:13){
obj <- lm(life ~ df1[,j])
list.obj[j-1] <- obj
}
list.obj
for (j in 2:13){
obj <- lm(life ~ df1[,j])
plot(df1[,j], life, xlab=colnames(df1)[j], main=paste("x", j))
abline(obj, col = "red")
}
mode(smo)
Mode <- function(x) {
ux <- unique(x)
ux[which.max(tabulate(match(x,ux)))]
}
Mode <- function(x) {
ux <- unique(x)
ux[which.max(tabulate(match(x,ux)))]
}
Mode(smo)
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
par(mfrow=c(1,1))
plot(reg$residuals, type = "n", main = "residual plot", ylab = "residuals"); abline(h=0, lty="dotted")
text(reg$residuals, names(reg$residuals), cex = 0.7)
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
View(df)
mean(smo)
Mode(smo)
setwd("c:/Users/정은/Desktop/new_bigdata_set/final_hiv_revised")
df <- read.csv("Sleeping princess in penguin room.csv")
setwd("C:/Users/양수형/Documents/GitHub/new_bigdata_set/above 2000")
co2 <- read.csv("co2.rv.csv")
gdp <- read.csv("gdp.rv.csv")
hiv1 <- read.csv("hiv.rv.csv")
life <- read.csv("life.rv.csv")
ob <- read.csv("ob.rv.csv")
pre <- read.csv("pre.rv.csv")
pri <- read.csv("pri.rv.csv")
sani <- read.csv("sani.rv.csv")
sec <- read.csv("sec.rv.csv")
smo <- read.csv("smo.rv.csv")
ter <- read.csv("ter.rv.csv")
al <- read.csv("al.rv.csv")
setwd("C:/Users/정은/Desktop/new_bigdata_set/final_hiv_revised")
hiv2 <- read.csv("hiv.rv.csv")
setwd("C:/Users/양수형/Documents/GitHub/new_bigdata_set/above 2000")
setwd("C:/Users/양수형/Documents/GitHub/new_bigdata_set/above 2000")
setwd("C:/Users/정은/Documents/GitHub/new_bigdata_set/above 2000")
setwd("C:/Users/정은/Desktop/new_bigdata_set/final data revised")
hiv1 <- read.csv("hiv.rv.csv")
setwd("C:/Users/정은/Desktop/new_bigdata_set/final_hiv_revised")
co2 <- read.csv("co2.rv.csv")
gdp <- read.csv("gdp.rv.csv")
hiv2 <- read.csv("hiv.rv.csv")
life <- read.csv("life.rv.csv")
ob <- read.csv("ob.rv.csv")
pre <- read.csv("pre.rv.csv")
pri <- read.csv("pri.rv.csv")
sani <- read.csv("sani.rv.csv")
sec <- read.csv("sec.rv.csv")
smo <- read.csv("smo.rv.csv")
ter <- read.csv("ter.rv.csv")
al <- read.csv("al.rv.csv")
co2 <- co2[order(co2$Country.Code),]
gdp <- gdp[order(gdp$Country.Code),]
hiv <- hiv[order(hiv$Country.Code),]
life <- life[order(life$Country.Code),]
ob <- ob[order(ob$Country.Code),]
pre <- pre[order(pre$Country.Code),]
pri <- pri[order(pri$Country.Code),]
sani <- sani[order(sani$Country.Code),]
sec <- sec[order(sec$Country.Code),]
smo <- smo[order(smo$Country.Code),]
ter <- ter[order(ter$Country.Code),]
al <- al[order(al$Country.Code),]
hiv1 <- hiv1[order(hiv1$Country.Code),]
hiv2 <- hiv2[order(hiv2$Country.Code),]
intercept(hiv1[[2]], hiv2[[2]])
intercept(as.character(hiv1[[2]]), as.character(hiv2[[2]])
###########################################
common <- intersect(as.character(co2[[2]]), as.character(gdp[[2]]))
common <- intersect(common, as.character(hiv[[2]]))
common <- intersect(common, as.character(life[[2]]))
common <- intersect(common, as.character(ob[[2]]))
common <- intersect(common, as.character(pre[[2]]))
common <- intersect(common, as.character(pri[[2]]))
common <- intersect(common, as.character(sec[[2]]))
common <- intersect(common, as.character(sani[[2]]))
common <- intersect(common, as.character(smo[[2]]))
common <- intersect(common, as.character(ter[[2]]))
common <- intersect(common, as.character(al[[2]]))
x.9 <- al[al[[2]] %in% common, 3]
x.10 <- co2[co2[[2]] %in% common, 3]
x.1 <- gdp[gdp[[2]] %in% common, 3]
x.11 <- hiv[hiv[[2]] %in% common, 3]
y <- life[life[[2]] %in% common, ]
x.8 <- ob[ob[[2]] %in% common, 3]
x.3 <- pre[pre[[2]] %in% common, 3]
x.4 <- pri[pri[[2]] %in% common, 3]
x.2 <- sani[sani[[2]] %in% common, 3]
x.5 <- sec[sec[[2]] %in% common, 3]
x.7 <- smo[smo[[2]] %in% common, c(3, 4)]
x.6 <- ter[ter[[2]] %in% common, 3]
df <- cbind( y, gdp = x.1, sani = x.2, pre = x.3, pri = x.4, sec = x.5,
ter = x.6, smo = x.7, ob = x.8, al = x.9, co2 = x.10, hiv = x.11)
write.csv(df, "final.csv", row.names = F)
setwd("c:/Users/정은/Desktop/new_bigdata_set/Final Total Data")
df <- read.csv("Sleeping princess in penguin room.csv")
y <- df[[3]]
gdp <- df[[4]]; sani <- df[[5]]; pre <- df[[6]]; pri <- df[[7]]
sec <- df[[8]]; ter <- df[[9]]; smo <- df[[11]]; ob <- df[[12]]
al <- df[[13]]; co2 <- df[[14]]; hiv <- df[[15]]
reg <- lm(y~gdp+sani+pre+pri+sec+ter+smo+ob+al+co2+hiv)
plot(reg$residuals, type = "n", main = "residual plot", ylab = "residuals"); abline(h=0, lty="dotted")
text(reg$residuals, names(reg$residuals), cex = 0.7)
plot(reg$fitted.values, reg$residuals, type = "n", main = "residual plot", xlab = "y.hat", ylab = "residuals")
abline(h = 0, lty = "dotted")
text(reg$fitted.values, reg$residuals, names(reg$fitted.values), cex = 0.7)
intercept(as.character(hiv1[[2]]), as.character(hiv2[[2]]))
intersect(as.character(hiv1[[2]]), as.character(hiv2[[2]]))
hiv.com <- intersect(as.character(hiv1[[2]]), as.character(hiv2[[2]]))
hiv2$Country.Name == hiv.com
hiv2[!(hiv2[[2]] %in% hiv.com), ]
hiv2 <- read.csv("hiv2.raw.data.csv")
setwd("C:/Users/정은/Desktop/new_bigdata_set/final_hiv_revised")
hiv2 <- read.csv("hiv2.raw.data.csv")
setwd("C:/Users/정은/Desktop/new_bigdata_set/above 2000")
hiv1 <- read.csv("hiv.rv.csv")
setwd("C:/Users/정은/Desktop/new_bigdata_set/above 2000")
hiv1 <- read.csv("hiv.rv.csv")
hiv1 <- read.csv("hiv.rm.csv")
hiv.com <- intersect(as.character(hiv1[[2]]), as.character(hiv2[[2]]))
hiv2[!(hiv2[[2]] %in% hiv.com), ]
hiv.0 <- cbind(hiv2[!(hiv2[[2]] %in% hiv.com), ], x2015 = NA, x2016 = NA)
View(hiv.0)
hiv <- rbind(hiv.0, hiv2)
hiv <- rbind(hiv.0, hiv1)
View(hiv.0)
colnames(hiv.0)[-c(1,2)] <- paste("x", 2000:2016, sep="")
View(hiv.0)
hiv.com <- intersect(as.character(hiv1[[2]]), as.character(hiv2[[2]]))
hiv2[!(hiv2[[2]] %in% hiv.com), ]
hiv.0 <- cbind(hiv2[!(hiv2[[2]] %in% hiv.com), ], x2015 = NA, x2016 = NA)
colnames(hiv.0)[-c(1,2)] <- paste("x", 2000:2016, sep="")
hiv <- rbind(hiv.0, hiv1)
View(hiv.0)
View(hiv1)
View(hiv1)
View(hiv.0)
merge(hiv1, hiv.0)
View(hiv.0)
